{"ast":null,"code":"import { createAsyncThunk, createSlice, createAction } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport baseURL from \"../../../utils/baseURL\"; //fetch all expenses\n\nexport const fetchAccountStatsAction = createAsyncThunk(\"account/fetch\", async (payload, _ref) => {\n  var _getState, _getState$users;\n\n  let {\n    rejectWithValue,\n    getState,\n    dispatch\n  } = _ref;\n  const user = (_getState = getState()) === null || _getState === void 0 ? void 0 : (_getState$users = _getState.users) === null || _getState$users === void 0 ? void 0 : _getState$users.userAuth;\n  const config = {\n    headers: {\n      authorization: `Bearer ${user === null || user === void 0 ? void 0 : user.token}`\n    }\n  };\n\n  try {\n    const {\n      data\n    } = await axios.get(`${baseURL}/accounts-statistics`, config);\n    return data;\n  } catch (error) {\n    var _error$response;\n\n    if (!(error !== null && error !== void 0 && error.response)) {\n      throw error;\n    }\n\n    return rejectWithValue(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n  }\n}); //slices\n\nconst expenseSlices = createSlice({\n  name: \"account\",\n  initialState: {},\n  extraReducers: builder => {\n    //   fetch all Expense\n    builder.addCase(fetchAccountStatsAction.pending, (state, action) => {\n      state.loading = true;\n    });\n    builder.addCase(fetchAccountStatsAction.fulfilled, (state, action) => {\n      state.loading = false;\n      state.accountDetails = action === null || action === void 0 ? void 0 : action.payload;\n      state.appErr = undefined;\n      state.serverErr = undefined;\n    });\n    builder.addCase(fetchAccountStatsAction.rejected, (state, action) => {\n      var _action$payload, _action$error;\n\n      state.loading = false;\n      state.appErr = action === null || action === void 0 ? void 0 : (_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.msg;\n      state.serverErr = action === null || action === void 0 ? void 0 : (_action$error = action.error) === null || _action$error === void 0 ? void 0 : _action$error.msg;\n    });\n  }\n});\nexport default expenseSlices.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","createAction","axios","baseURL","fetchAccountStatsAction","payload","rejectWithValue","getState","dispatch","user","users","userAuth","config","headers","authorization","token","data","get","error","response","expenseSlices","name","initialState","extraReducers","builder","addCase","pending","state","action","loading","fulfilled","accountDetails","appErr","undefined","serverErr","rejected","msg","reducer"],"sources":["E:/WORK/expense-tracker/client/src/redux/slices/accountsStats/accountStatSlices.js"],"sourcesContent":["import { createAsyncThunk, createSlice, createAction } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport baseURL from \"../../../utils/baseURL\";\n\n//fetch all expenses\nexport const fetchAccountStatsAction = createAsyncThunk(\n  \"account/fetch\",\n  async (payload, { rejectWithValue, getState, dispatch }) => {\n    const user = getState()?.users?.userAuth;\n    const config = {\n      headers: {\n        authorization: `Bearer ${user?.token}`,\n      },\n    };\n    try {\n      const { data } = await axios.get(\n        `${baseURL}/accounts-statistics`,\n        config\n      );\n      return data;\n    } catch (error) {\n      if (!error?.response) {\n        throw error;\n      }\n      return rejectWithValue(error?.response?.data);\n    }\n  }\n);\n\n//slices\n\nconst expenseSlices = createSlice({\n  name: \"account\",\n  initialState: {},\n  extraReducers: builder => {\n    //   fetch all Expense\n    builder.addCase(fetchAccountStatsAction.pending, (state, action) => {\n      state.loading = true;\n    });\n    builder.addCase(fetchAccountStatsAction.fulfilled, (state, action) => {\n      state.loading = false;\n      state.accountDetails = action?.payload;\n      state.appErr = undefined;\n      state.serverErr = undefined;\n    });\n    builder.addCase(fetchAccountStatsAction.rejected, (state, action) => {\n      state.loading = false;\n      state.appErr = action?.payload?.msg;\n      state.serverErr = action?.error?.msg;\n    });\n  },\n});\n\nexport default expenseSlices.reducer;\n"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,EAAwCC,YAAxC,QAA4D,kBAA5D;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,wBAApB,C,CAEA;;AACA,OAAO,MAAMC,uBAAuB,GAAGL,gBAAgB,CACrD,eADqD,EAErD,OAAOM,OAAP,WAA4D;EAAA;;EAAA,IAA5C;IAAEC,eAAF;IAAmBC,QAAnB;IAA6BC;EAA7B,CAA4C;EAC1D,MAAMC,IAAI,gBAAGF,QAAQ,EAAX,iEAAG,UAAYG,KAAf,oDAAG,gBAAmBC,QAAhC;EACA,MAAMC,MAAM,GAAG;IACbC,OAAO,EAAE;MACPC,aAAa,EAAG,UAASL,IAAV,aAAUA,IAAV,uBAAUA,IAAI,CAAEM,KAAM;IAD9B;EADI,CAAf;;EAKA,IAAI;IACF,MAAM;MAAEC;IAAF,IAAW,MAAMd,KAAK,CAACe,GAAN,CACpB,GAAEd,OAAQ,sBADU,EAErBS,MAFqB,CAAvB;IAIA,OAAOI,IAAP;EACD,CAND,CAME,OAAOE,KAAP,EAAc;IAAA;;IACd,IAAI,EAACA,KAAD,aAACA,KAAD,eAACA,KAAK,CAAEC,QAAR,CAAJ,EAAsB;MACpB,MAAMD,KAAN;IACD;;IACD,OAAOZ,eAAe,CAACY,KAAD,aAACA,KAAD,0CAACA,KAAK,CAAEC,QAAR,oDAAC,gBAAiBH,IAAlB,CAAtB;EACD;AACF,CArBoD,CAAhD,C,CAwBP;;AAEA,MAAMI,aAAa,GAAGpB,WAAW,CAAC;EAChCqB,IAAI,EAAE,SAD0B;EAEhCC,YAAY,EAAE,EAFkB;EAGhCC,aAAa,EAAEC,OAAO,IAAI;IACxB;IACAA,OAAO,CAACC,OAAR,CAAgBrB,uBAAuB,CAACsB,OAAxC,EAAiD,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAClED,KAAK,CAACE,OAAN,GAAgB,IAAhB;IACD,CAFD;IAGAL,OAAO,CAACC,OAAR,CAAgBrB,uBAAuB,CAAC0B,SAAxC,EAAmD,CAACH,KAAD,EAAQC,MAAR,KAAmB;MACpED,KAAK,CAACE,OAAN,GAAgB,KAAhB;MACAF,KAAK,CAACI,cAAN,GAAuBH,MAAvB,aAAuBA,MAAvB,uBAAuBA,MAAM,CAAEvB,OAA/B;MACAsB,KAAK,CAACK,MAAN,GAAeC,SAAf;MACAN,KAAK,CAACO,SAAN,GAAkBD,SAAlB;IACD,CALD;IAMAT,OAAO,CAACC,OAAR,CAAgBrB,uBAAuB,CAAC+B,QAAxC,EAAkD,CAACR,KAAD,EAAQC,MAAR,KAAmB;MAAA;;MACnED,KAAK,CAACE,OAAN,GAAgB,KAAhB;MACAF,KAAK,CAACK,MAAN,GAAeJ,MAAf,aAAeA,MAAf,0CAAeA,MAAM,CAAEvB,OAAvB,oDAAe,gBAAiB+B,GAAhC;MACAT,KAAK,CAACO,SAAN,GAAkBN,MAAlB,aAAkBA,MAAlB,wCAAkBA,MAAM,CAAEV,KAA1B,kDAAkB,cAAekB,GAAjC;IACD,CAJD;EAKD;AAnB+B,CAAD,CAAjC;AAsBA,eAAehB,aAAa,CAACiB,OAA7B"},"metadata":{},"sourceType":"module"}